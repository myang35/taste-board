<div class="flex flex-col gap-4">
  <h1 class="border-b border-b-black/50 pb-2 text-2xl">Recipes</h1>
  <app-search-bar (submit)="onSearchSubmit($event)"></app-search-bar>
  @if (recipes()) {
    <ul class="border-dark-500 rounded-lg border">
      @for (recipe of recipes(); track recipe.id) {
        <li
          class="flex gap-4 p-4"
          [class]="{
            'border-b': !$last,
            'border-b-dark-500/50': !$last,
          }"
        >
          @if (recipe.imageUrl) {
            <img [src]="recipe.imageUrl" class="size-40 rounded object-cover" />
          }
          <div class="flex flex-col justify-between">
            <div>
              <div class="flex gap-4">
                <h1 class="font-bold">{{ recipe.name }}</h1>
                @for (tag of recipe.tags; track tag) {
                  <p class="text-light-500 bg-secondary-500 rounded-full px-2">
                    {{ tag }}
                  </p>
                }
              </div>
              <p>{{ recipe.description }}</p>
            </div>
            <div>
              <p>Prep time: {{ recipe.prepMinutes }} minutes</p>
              <p>Calories: {{ recipe.calories }}</p>
            </div>
            <a
              href="/view/{{ recipe.id }}"
              class="bg-primary-500/75 hover:bg-primary-500 w-fit rounded-lg px-4 py-1 shadow shadow-black/50 transition"
            >
              View
            </a>
          </div>
        </li>
      }
    </ul>
  } @else if (errorMessage()) {
    <p>{{ errorMessage() }}</p>
  } @else {
    <p>Loading...</p>
  }
</div>
